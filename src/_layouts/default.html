<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>{{ page.title }}</title>
        <meta name="viewport" content="width=device-width">
        <link media="screen" type="text/css" rel="stylesheet" href="/css/screen.css">
		<link media="screen" type="text/css" rel="stylesheet" href="/bootstrap/css/bootstrap.min.css">
		<link media="screen" type="text/css" rel="stylesheet" href="/css/colorbox.css">
		<script type="text/javascript" src="/bootstrap/js/jquery.min.js"></script>
		<script type="text/javascript" src="/bootstrap/js/bootstrap.min.js"></script>
		<script type="text/javascript" src="/js/colorbox.js"></script>
		<!--<script type="text/javascript" src="/js/masonry.js"></script>-->
		<script type="text/javascript" src="/js/isotope.js"></script>
		<script>
			jQuery(document).ready(function($){
				var $isotope = $('.art-masonry').isotope({
					sortBy: 'random',
					layoutMode: 'masonry',
					itemSelector: '.artwork',
					masonry: {
						columnWidth: 10
					}
				});
				$(".art").colorbox({
					rel:'artwork'
				});
				$isotope.isotope('reloadItems');
				$('body').on('click','#createChaos', function() {
					disco();
					console.log("poo");
					$isotope.isotope({sortBy: 'random'}).isotope('reloadItems');
				});
				
				function disco() {
					var elements = document.getElementsByTagName('*');
					console.log("Disco time!");
					for (var i = elements.length - 1; i >= 0; i--) { 
						var r = Math.floor(Math.random()*256);
						var g = Math.floor(Math.random()*256);
						var b = Math.floor(Math.random()*256); 
						elements[i].style.color = '#'+r.toString(16)+g.toString(16)+b.toString(16);
						
						var r = Math.floor(Math.random()*256);
						var g = Math.floor(Math.random()*256);
						var b = Math.floor(Math.random()*256);
						elements[i].style.backgroundColor = '#'+r.toString(16)+g.toString(16)+b.toString(16);
				};
  
					//setTimeout(disco, 900);
				};
			});
		</script>
    </head>
    <body class="content-{{ page.name }}">
		{% include header.html %}
        <div class="site container">
			{{ content }}
        </div><!-- .site -->
		{% include footer.html %}
    </body>
</html>
